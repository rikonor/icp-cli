package icp:project@0.4.0; // Add library interface, update cli dep

// Interface for programmatic interaction with the project extension
interface lib {
  // Information about a canister within the project
  record canister-info {
    name: string,
    path: string, // Relative path from project root
    canister-type: string, // e.g., "motoko", "rust"
  }

  // Lists all canisters defined in the project's icp.toml manifest
  list-canisters: func() -> result<list<canister-info>, string>;
}

world extension {
  // Include standard CLI world (provides cli, misc, filesystem imports)
  // Include standard CLI world (provides cli, misc, filesystem imports)
  // Use the version that includes read-file
  include icp:cli/extension@0.2.0;

  // Import the build library interface to call build functions
  import icp:build/lib@0.2.0;

  // Exported library interface for other extensions to use
  // Must be named 'lib' due to hardcoded suffix check
  export lib;
}
